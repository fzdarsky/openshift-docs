= Preparing for installation

Before installing MicroShift, you must prepare your {op-system} machine:

* You must register your {op-system} machine with Red Hat Subscription Management.
* You must attach a subscription that in includes MicroShift RPMs.
* You must provide an LVM Volume Group (VG) with sufficient capacity for your workload's Persistent Volumes (PVs)

MicroShift uses the ODF-LVM CSI provider for storage of PVs. ODF-LVM relies on Linux's Logical Volume Manager (LVM) to dynamically manage the backing storage for PVs. For this reason, your machine needs to have an LVM Volume Group (VG) in which ODF-LVM an create the LVM Logical Volumes (LVs) for your workloads' PVs.

The easiest way to do that is to reserve capacity already during installation of your {op-system} machine:

1. In the graphical installer under "Storage Configuration", select "Custom" and click "Done" to open the dialog for configuring partitions and volumes.
2. Under "New Red Hat Enterprise Linux 8.x Installation", click "Click here to create them automatically".
3. Select the root partition (`/`), reduce the "Desired Capacity" so the VG has sufficient free capacity for your PVs, and click "Update Settings".
4. Continue with your installation.

Refer to the https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_a_standard_rhel_8_installation/index#manual-partitioning_graphical-installation[Configuring Manual Partitioning] section of the {op-system} documenation for further options.

Verify the free VG capacity on your system:
[source,terminal]
----
$ sudo vgs
VG   #PV #LV #SN Attr   VSize    VFree
rhel   1   2   0 wz--n- <127.00g 54.94g
----

Note the name of the default VG (here: "rhel") as you will need it later.

Refer to the {op-system} documentation on https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_and_managing_logical_volumes/index#managing-lvm-volume-groups_configuring-and-managing-logical-volumes[Managing LVM Volume Groups] for further options, for example for resizing your existing LVs to free up capacity in your VG.
